sap.ui.define(["sap/ui/core/mvc/Controller","sap/m/MessageBox","sap/m/MessageToast"],function(e,t,o){"use strict";return e.extend("delaware.reporting.sacimport.bugettool.BugetToolFileUpdate.controller.UploadCostCenter",{onInit:function(){this._oRouter=this.getOwnerComponent().getRouter()},onNavButtonPress:function(){this._oRouter.navTo("CostCenter")},onUpload:function(e){this.getView().setBusy(true);var t=this.getView().byId("idfileUploader");t.setAdditionalData(this.getOwnerComponent().getModel("newUploadModel").getProperty("/UploadName"));t.upload()},onSaveCC:function(e){var t={TYPE:"02",FROM:"TESTE02",TO:"TESTE01"};debugger;$.ajax({url:"https://i5qad9c5090c.hana.ondemand.com/delaware/reporting/services/UpdateTest.xsjs?TYPE=XD&FROM=TESTE&TO=TESTE",type:"POST",contentType:"text/plain",data:t,xhrFields:{withCredentials:true},success:function(e,t){o.show(e)},error:function(e,t,n){o.show(n)}})},handleUploadComplete:function(e){debugger;this.getView().setBusy(false);var n=e.getParameter("response"),s;if(n.search('"SUCCESS"')!==-1){s=this.getOwnerComponent().getModel("i18n").getResourceBundle().getText("msgUploadSuccessful");this.getView().byId("table1").rebindTable();o.show(s)}else{try{s=JSON.parse(n.match(/\{([^}]+)\}/g)).ERROR}catch(e){s=this.getOwnerComponent().getModel("i18n").getResourceBundle().getText("msgUploadFailed")}t.show(s,{})}this._getNewUploadDialog().close();e.getSource().clear()},onUploadComplete:function(e){debugger;var t=e.getParameters("response")}})});